<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="https://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layouts/defaultTemplate">
<!--  layout:decorate="layouts/defaultTemplate"  -->
	<head>
		<meta charset="UTF-8" />
		<title>Products</title>
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta name="description" content=""/>
		<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
		<link rel="stylesheet" th:href="@{/css/products.css}" />
		
	</head>

	<body layout:fragment="content">
		<div class="container">
			
			<div class="col-md-2">
				<div>
					<form th:action="@{/products/search}" method="get">
						<div class="input-group">
							<input type="text" class="form-control" name="query"
								   placeholder="Search by name or description">
							<button class="btn btn-secondary" type="submit">Search</button>
						</div>
					</form>
				</div>
			</div>
			<div th:if="${#lists.isEmpty(products) || products.empty}" class="alert alert-warning text-center">
				No products found matching your search.
			</div>
			<div class="products-grid">
				<div th:each="product : ${products}" class="card product-card">
					<img th:src="@{${product.images[0]}}" class="card-img-top" alt="Product image" th:if="${product.images != null and !product.images.empty}">
					<div class="card-body">
						<h5 class="card-title" th:text="${product.name}">Product Name</h5>
						<div class="price" th:text="'$' + ${product.price}">$0.00</div>
						<a th:href="@{/products/displayItem/{productId}(productId=${product.id})}" class="btn btn-primary mt-2">View Details</a>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>